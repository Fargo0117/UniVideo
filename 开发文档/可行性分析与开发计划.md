# 可行性分析与开发计划

**目录**
(请保留原Word模板中的自动目录)

---

## 1. 引言

### 1.1 编写目的

本文档旨在对"UniVideo 校园视界"系统进行全面的可行性研究与项目开发规划。通过对技术、经济、社会等方面的分析，论证项目的必要性与可行性，并制定详细的开发进度计划，明确项目目标、工作内容与验收标准，为项目开发人员（软件工程234班 李梓豪）及指导教师提供项目实施的依据。

### 1.2 背景

* **待开发系统名称：** UniVideo 校园视界（校园视频分享平台）
* **任务提出者：** 软件工程课程设计指导教师
* **开发者：** 软件工程234班 李梓豪 (学号: 2318140407)
* **用户：** 全校师生、系统管理员
* **背景说明：** 当前校园内缺乏一个集中的、学生自主管理的视频资源分享平台。社团活动、课程录像、校园新闻等视频资料主要依赖网盘或第三方社交软件流转，存在检索困难、链接易失效、缺乏个性化管理（如收藏、个人作品集）等问题。本系统旨在利用 Python 和 Web 技术解决上述痛点，构建一个校园专属的流媒体社区。

### 1.3 定义

* **UniVideo：** 本项目的系统名称。
* **Pre-audit（先审后发）：** 普通用户上传视频后，需经管理员审核通过才能在前台展示的机制。管理员上传的视频可直接发布，无需审核。
* **Admin Privilege（管理员特权）：** 指管理员账号具备上传视频免审核（直接发布）以及对全站视频进行搜索、删除、用户管理等管理权限。
* **Canvas Snapshot（前端截图）：** 利用 HTML5 Canvas 技术在浏览器端直接截取视频画面作为封面的技术方案。
* **Danmaku（弹幕）：** 在视频播放过程中实时显示的滚动文字评论，支持自定义颜色、位置和模式，兼容 ArtPlayer 播放器弹幕插件。
* **Follow（关注）：** 用户之间建立关注关系，可查看关注用户的视频动态，支持关注列表和粉丝列表管理。
* **Notification（通知）：** 系统向用户推送的消息，包括审核通知、系统公告等类型，支持已读/未读状态管理。

### 1.4 参考资料

1. 《软件工程课程设计指导书》，大连交通大学软件工程教研室，2025。
2. Flask Web 开发实战教程。
3. Vue.js 3.0 官方文档。
4. ArtPlayer 播放器官方文档。
5. GB/T 8567-2006 《计算机软件文档编制规范》。

## 2. 可行性研究的前提

### 2.1 要求

* **功能要求：**
* **基础业务：** 用户注册登录、视频上传（支持本地存储）、流媒体播放（ArtPlayer 播放器）。
* **浏览检索：** 首页视频分类导航、关键词模糊搜索（过滤已发布状态）、用户搜索（按用户名/昵称）。
* **互动管理：** 视频点赞、收藏（Favorites）、评论（支持多级盖楼回复）、弹幕发送与实时显示、用户关注与粉丝管理。
* **个人中心：** 用户资料修改（头像/昵称/密码，支持图片裁切）、查看"我的投稿"、查看"我的收藏"、查看"我的关注"、查看"我的粉丝"、作者主页。
* **后台管理：** 视频审核（通过/驳回，支持驳回理由）、全站视频检索与删除、用户管理（封禁/解封）、数据统计（待审核数、总用户数、今日新增、数据趋势图表）、通知管理（发送系统公告/个人通知、查看通知列表、标记已读）。
* **消息中心：** 用户查看个人通知和系统公告，支持按类型筛选、标记已读、全部已读。
* **特色功能：** 上传时支持通过前端 Canvas 截取当前帧作为视频封面；封面和头像支持图片裁切（16:9 和 1:1 比例）。

* **性能要求：** 数据库需针对高频查询（如评论树、收藏关系、关注关系）建立索引优化；前端页面加载响应迅速；API 接口平均响应时间 < 200毫秒。
* **安全与保密要求：** 严格的权限控制（RBAC），普通用户无法操作管理员接口；用户密码加密存储（Werkzeug pbkdf2:sha256）；防止未审核内容泄露；被封禁用户无法登录，其视频在前台不可见。
* **完成期限：** 2周（14天）。

### 2.2 目标

* **管理目标：** 实现校园视频资源的集中化、合规化管理，替代传统的群文件传输模式。
* **技术目标：** 掌握前后端分离架构（Python Flask + Vue 3），实践复杂业务逻辑（如多表关联、权限分级、前端图像处理、弹幕系统、关注系统）的开发。
* **体验目标：** 提供流畅的 Web 视频浏览体验，支持个性化收藏、精准搜索、实时弹幕、社交关注等现代视频平台功能。

### 2.3 条件、假定和限制

* **运行环境：** 建议使用 Windows 或 Linux 操作系统，部署 Python 3.8+ 及 MySQL 8.0 环境。
* **经费限制：** 零成本开发，全部使用开源技术栈。
* **硬件限制：** 视频及图片资源存储于服务器本地文件系统（`backend/static/` 目录），受限于硬盘物理空间，不接入云对象存储。
* **身份认证限制：** 采用简化的身份认证机制，通过 HTTP Header (`X-User-ID`) 传递用户ID，用户信息存储在客户端 LocalStorage 中，不使用 JWT Token。

### 2.4 进行可行性研究的方法

采用调查研究法和原型分析法。通过对比现有的文件传输方式（QQ群、网盘）与 Web 流媒体技术的优劣，评估新系统的价值；通过构建快速原型验证关键技术（如 Canvas 截图、弹幕系统、关注系统）的可行性。

### 2.5 评价尺度

* **开发成本：** 低（利用现有设备与开源软件）。
* **功能完备性：** 是否覆盖了从投稿、审核到消费、互动的全生命周期，包括弹幕、关注、通知等高级功能。
* **易用性：** 界面是否符合主流视频网站的操作习惯，功能是否直观易用。

## 3. 对现有系统的分析

### 3.1 处理流程和数据流程

* **现状：** 视频文件散落在各个班级群、社团群或临时网盘链接中。
* **流程：** 拍摄者 -> 上传网盘/群 -> 复制链接 -> 粘贴分享 -> 观看者下载/转存 -> 本地播放。

### 3.2 工作负荷

* 人工管理群文件效率低下，历史文件难以查找，链接容易失效。
* 缺乏审核机制，管理员难以对违规内容进行追溯和处理。
* 缺乏互动机制，无法进行点赞、评论、收藏等社区化操作。

### 3.3 费用开支

* 目前主要依赖免费网盘或社交软件，无直接金钱开支，但存在巨大的时间成本和管理成本。

### 3.4 人员

* 需群管理员人工维护文件，无专门的技术维护人员。

### 3.5 设备

* 依赖各自的个人电脑或手机。

### 3.6 局限性

* **检索难：** 无法通过关键词搜索特定内容的视频，无法搜索用户。
* **无互动：** 缺乏点赞、评论、收藏、弹幕等社区反馈机制。
* **无监管：** 内容传播不可控，存在安全隐患。
* **无社交：** 无法关注其他用户，无法查看关注动态。

## 4. 所建议的系统

### 4.1 对所建议系统的说明

UniVideo 是一个基于 B/S 架构的 Web 应用。

* **前端：** Vue.js 3 构建响应式界面，集成 Canvas 截图功能、ArtPlayer 播放器（含弹幕插件）、图片裁切组件、ECharts 图表库。
* **后端：** Python Flask 处理业务逻辑，提供 RESTful API，使用 SQLAlchemy ORM 管理数据库。
* **数据：** MySQL 存储结构化数据（9张核心表），本地文件系统存储媒体文件（视频、封面、头像）。

### 4.2 处理流程和数据流程

* **投稿流程：** 用户选择视频 -> (可选)播放预览并Canvas截图生成封面 -> (可选)封面裁切 -> 提交 -> 系统存入本地并记录数据库（状态：待审核/已发布，取决于用户角色）。
* **审核流程：** 管理员后台查看待审列表 -> 预览视频（ArtPlayer播放器） -> 点击通过/驳回（可填写驳回理由） -> 更新数据库状态 -> 创建审核通知 -> 前台可见（如通过）。
* **互动流程：** 用户浏览 -> 搜索/分类筛选/用户搜索 -> 播放（含弹幕） -> 点赞/收藏/评论/发送弹幕/关注UP主 -> 数据实时回写数据库。
* **个人中心流程：** 用户进入个人中心 -> 查看我的投稿/收藏/关注/粉丝 -> 修改资料（头像/昵称/密码，支持头像裁切）。
* **消息中心流程：** 用户进入消息中心 -> 查看个人通知和系统公告 -> 按类型筛选 -> 标记已读/全部已读 -> 点击通知跳转相关页面。

### 4.3 改进之处

* **实时性：** 支持在线流媒体播放，无需下载等待；支持实时弹幕显示。
* **便捷性：** 新增前端截图功能，简化了封面制作流程；支持图片裁切，优化图片质量。
* **管理性：** 引入"先审后发"与"管理员特权"机制，既保证了安全又提升了官方运营效率；支持数据统计和趋势分析。
* **个性化：** 增加了收藏夹和个人中心，满足用户对资源的整理需求；支持关注系统，构建用户社交网络。
* **互动性：** 支持多级评论、弹幕、点赞、收藏等多种互动形式，提升用户参与度。
* **通知系统：** 审核结果自动通知用户，系统公告全员可见，提升用户体验。

### 4.4 影响

* **对设备的影响：** 服务器端需要预留足够的磁盘空间存储视频文件；需要支持现代浏览器的客户端设备。
* **对用户的影响：** 用户需注册账号使用，操作界面直观，无需复杂培训；支持响应式布局，适配不同屏幕尺寸。

### 4.5 局限性

* 由于未实现复杂的流媒体分片技术（如 HLS），在大并发或网络较差环境下，大文件的加载速度可能受限。
* 弹幕系统基于 ArtPlayer 插件实现，不支持高级弹幕特效（如弹幕池、弹幕过滤等）。
* 关注系统为单向关注，不支持互相关注提醒或关注动态推送。
* 通知系统为被动查看模式，不支持实时推送（WebSocket）。

### 4.6 技术条件方面的可行性

* **技术栈匹配：** 开发者已修读 Python 程序设计和 Web 开发相关课程，熟悉 Flask 框架、SQLAlchemy ORM 及 Vue 组件化开发。
* **关键技术验证：** Canvas 截图、图片裁切、RBAC 权限控制、弹幕系统、关注系统已在开发阶段验证通过。
* **第三方库支持：** ArtPlayer 播放器、ECharts 图表库均为成熟的开源项目，文档完善，易于集成。
* **结论：** 技术上完全可行。

## 5. 可选择的其他系统方案

### 5.1 方案一：基于公共视频平台（如 Bilibili）

* **说明：** 建立学校官方账号，统一投稿。
* **未选中理由：** 数据不掌握在自己手中，无法限制校内访问，无法自定义审核流程和分类体系，无法实现校园特色功能。

### 5.2 方案二：购买商业点播系统

* **说明：** 采购成熟的私有云视频解决方案。
* **未选中理由：** 成本高昂，无法满足课程设计锻炼编码能力的要求，无法定制化开发。

## 6. 投资及效益分析

### 6.1 支出

* **基本建设投资：** 0元（利用现有个人电脑作为服务器）。
* **软件支出：** 0元（Python, Vue, MySQL, ArtPlayer, ECharts 均为开源免费软件）。
* **人力支出：** 开发者个人时间投入（约14天）。

### 6.2 收益

* **非一次性收益：** 提高校园视频资源的传播效率，丰富学生的课余文化生活，规范校园网络内容管理；支持弹幕、关注等社交功能，提升用户粘性。
* **不可定量收益：** 提升开发者的软件工程实践能力和全栈开发技能；掌握现代 Web 开发技术栈和复杂业务逻辑实现。

### 6.3 收益／投资比

由于资金投入为 0，且能产生显著的管理效益和学习效益，收益/投资比极高。

### 6.4 投资回收周期

系统上线即产生效益，无需资金回收周期。

### 6.5 敏感性分析

系统主要风险在于服务器硬盘空间耗尽。通过限制上传文件大小（如 <500MB）和管理员定期清理功能，可有效降低该风险。此外，数据库规模增长（如评论、弹幕、关注关系）也需要定期优化和清理。

## 7. 社会因素方面的可行性

### 7.1 法律方面的可行性

系统仅在校园内部演示使用，且设有严格的审核机制，严格控制版权和内容合规性，不涉及侵权风险。用户上传内容需经过管理员审核，确保内容合法合规。

### 7.2 使用方面的可行性

系统界面参考主流视频网站设计，符合当代大学生的互联网使用习惯，易用性高，无需专门培训即可上手。支持响应式布局，适配不同设备。

## 8. 结论

经过上述分析，本系统在技术、经济、操作和社会因素方面均是可行的。系统已实现核心的视频管理、社区互动、安全审核闭环，并扩展了弹幕、关注、通知等高级功能，具备完整的开发价值和实用价值。建议立即开始进行开发。

---

## 9. 项目概述 (附录2内容)

### 9.1 工作内容

* 完成 UniVideo 系统的需求分析与数据库设计（含 users, categories, videos, comments, likes, collections, danmaku, follows, notifications 九张核心表）。
* 搭建 Python Flask + MySQL 后端环境，实现 RESTful API（认证、视频、互动、用户、管理员五大模块）。
* 开发 Vue.js 前端页面（首页、详情页、上传页、个人中心、作者主页、管理后台、消息中心）。
* 实现 Canvas 截图、图片裁切、视频上传、审核、播放（ArtPlayer+弹幕）、评论（多级）、收藏、点赞、关注、通知等核心功能。
* 集成第三方库：ArtPlayer 播放器（含弹幕插件）、ECharts 图表库。
* 撰写课程设计相关文档。

### 9.2 主要参加人员

* **项目负责人/开发者：** 李梓豪（软工234班，学号: 2318140407）
* **职责：** 全栈开发、数据库管理、测试、文档编写。

### 9.3 产品

1. **程序：** UniVideo 源代码（后端 Python、前端 Vue、SQL 脚本）。
2. **文档：**
* 《可行性分析与开发计划》
* 《需求分析规格说明书》
* 《软件设计说明书》
* 《课程设计总结报告》

### 9.4 验收标准

* **核心功能：** 
  * 普通用户上传视频后状态为待审核，管理员审核通过后首页可见。
  * 管理员上传视频直接发布，无需审核。
  * 视频播放支持 ArtPlayer 播放器和弹幕功能。
* **特色功能：** 
  * 上传页面能通过 Canvas 截取视频画面作为封面。
  * 封面和头像支持图片裁切（16:9 和 1:1 比例）。
  * 管理员具备免审特权。
* **互动功能：** 
  * 视频点赞、收藏、评论（支持多级回复）功能正常。
  * 弹幕发送和实时显示功能正常。
  * 用户关注和粉丝管理功能正常。
* **个人中心：** 
  * 我的投稿、我的收藏、我的关注、我的粉丝数据展示准确。
  * 用户资料修改（头像/昵称/密码）功能正常。
* **后台管理：** 
  * 视频审核（通过/驳回，支持驳回理由）功能正常。
  * 用户管理（封禁/解封）功能正常。
  * 数据统计和趋势图表显示正常。
  * 通知发送和管理功能正常。
* **消息中心：** 
  * 通知列表显示正常，支持类型筛选和已读/未读标记。
* **数据完整性：** 所有数据存取正确，关联关系维护准确。
* **运行稳定：** 系统能正常运行，无严重 Bug。

### 9.5 完成项目的最迟期限

项目启动后 14 天内。

### 9.6 本计划的批准者和批准日期

批准者：软件工程课程设计指导教师；日期：2026年1月。

## 10. 实施计划

### 10.1 工作任务的分解与人员分工

本项目由单人完成，任务分解如下：

1. **调研与分析：** 确定选题，分析业务流程（含审核/收藏/弹幕/关注/通知），撰写可行性分析。
2. **需求分析与设计：** 细化所有功能需求，完成数据库设计（9张表），完成 API 接口定义。
3. **后端开发：** 搭建 Flask，实现 Auth、视频、评论、收藏、点赞、弹幕、关注、通知、管理等接口。
4. **前端开发：** 搭建 Vue，实现各页面逻辑、Canvas 截图组件、图片裁切组件、ArtPlayer 播放器集成、ECharts 图表集成。
5. **联调与测试：** 前后端对接，进行功能测试与 Bug 修复。

### 10.2 接口人员

开发者直接对接指导教师，定期汇报进度。

### 10.3 进度

| 日期 | 阶段 | 任务描述 | 里程碑 |
| --- | --- | --- | --- |
| 第1-2天 | 调研与规划 | 确定选题，梳理业务流程（含审核/收藏/弹幕/关注/通知），撰写可行性分析。 | 《可行性分析与开发计划》 |
| 第3-4天 | 需求分析 | 细化所有功能需求，完成数据库设计（9张表）。 | 《需求分析规格说明书》 |
| 第5-6天 | 系统设计 | 完成 API 接口定义与数据库物理设计。 | 《软件设计说明书》 |
| 第7-8天 | 后端开发 | 实现 Flask 核心接口（含管理员免审逻辑、弹幕、关注、通知）。 | 后端接口跑通 |
| 第9-10天 | 前端开发 | 完成登录、首页、详情页、上传页、个人中心、管理后台、消息中心及 Canvas 截图、图片裁切、ArtPlayer 播放器、ECharts 图表功能。 | 前端静态页面完成 |
| 第11天 | 功能联调 | 对接前后端，实现上传-审核-发布全流程，测试所有互动功能。 | 核心闭环跑通 |
| 第12天 | 高级功能 | 完善个人中心、收藏列表、搜索与分类筛选、关注系统、通知系统。 | 系统功能完整 |
| 第13天 | 测试与文档 | 全面测试，修复 Bug，整理文档。 | 提交电子版材料 |
| 第14天 | 答辩准备 | 制作 PPT，预演演示流程（重点演示 Canvas 截图、弹幕、关注、通知等特色功能）。 | 完成答辩 |

### 10.4 预算

* **经费预算：** 0元。
* **劳务预算：** 1人/14天。

### 10.5 关键问题

* **技术难点：** 
  1. **Canvas 截图实现：** 需处理视频跨域与 Canvas 绘图的时序问题（已解决：利用 loadeddata 事件监听）。
  2. **评论树构建：** 数据库扁平存储与前端树状展示的转换（已解决：引入 root_id 字段优化查询）。
  3. **弹幕系统集成：** ArtPlayer 弹幕插件的数据格式适配和实时发送（已解决：实现弹幕 API 和前端集成）。
  4. **关注系统设计：** 关注关系的存储和查询优化（已解决：使用联合主键和索引优化）。
  5. **通知系统设计：** 个人通知和系统通知的统一管理（已解决：使用 user_id 为 NULL 表示系统通知）。
* **风险：** 开发时间紧迫，需严格控制功能边界，优先实现核心功能，高级功能（如实时推送）暂不实现。

## 11. 支持条件

### 11.1 计算机系统支持

* **开发机：** 个人笔记本电脑（CPU i5以上，内存 16GB）。
* **软件环境：** VS Code (IDE), Navicat (数据库管理), Chrome 浏览器, Git。
* **开发工具：** Python 3.8+, Node.js 16+, Vite 4.0+, MySQL 8.0。

### 11.2 需由用户承担的工作

无。

### 11.3 由外单位提供的条件

无。

## 12. 专题计划要点

* **测试计划：** 在第 13 天进行集中黑盒测试，重点测试权限隔离（普通用户不可访问管理后台）、数据一致性（点赞/收藏/关注防重复）、弹幕实时显示、通知系统功能。
* **安全计划：** 开发过程中始终遵循"最小权限原则"，确保 API 接口鉴权；密码加密存储；防止未审核内容泄露；封禁用户无法登录。
* **性能优化计划：** 数据库索引优化（评论、收藏、关注、弹幕查询）；前端图片懒加载；API 响应时间监控。
